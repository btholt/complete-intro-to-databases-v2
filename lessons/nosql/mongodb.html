<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/x-icon" href="/images/favicon.ico" data-next-head=""/><title data-next-head="">MongoDB – Complete Intro to Databases v2</title><meta name="description" content="MongoDB is a document-based NoSQL database that allows developers to write unstructured data to be queried later. Brian goes into what this means for a developer and when you might want to use it" data-next-head=""/><meta name="keywords" content="postgres,sql,redis,mongodb,neo4j,database,data,agents" data-next-head=""/><meta name="og:description" content="MongoDB is a document-based NoSQL database that allows developers to write unstructured data to be queried later. Brian goes into what this means for a developer and when you might want to use it" data-next-head=""/><meta name="og:title" content="MongoDB – Complete Intro to Databases v2" data-next-head=""/><meta name="og:image" content="/images/social-share-cover.jpg" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/3802a39ca373f962.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/3802a39ca373f962.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/dbe15a90055bd265.js" defer=""></script><script src="/_next/static/chunks/49c75c2ed6206f46.js" defer=""></script><script src="/_next/static/chunks/da0ff8adaa6cce90.js" defer=""></script><script src="/_next/static/chunks/turbopack-342361b32f83e6b6.js" defer=""></script><script src="/_next/static/chunks/f189af6b04c7fd39.js" defer=""></script><script src="/_next/static/chunks/turbopack-8b35dea75ba6f85c.js" defer=""></script><script src="/_next/static/Ogv8p-BwCHRQ1PzRpAU9u/_ssgManifest.js" defer=""></script><script src="/_next/static/Ogv8p-BwCHRQ1PzRpAU9u/_buildManifest.js" defer=""></script></head><body><script async="" defer="" src="https://a.holt.courses/latest.js"></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><div id="__next"><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&amp;display=swap" rel="stylesheet"/><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to Databases v2</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/workshops/databases-v2/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p><a href="https://www.jetbrains.com/lp/devecosystem-2020/databases/">MongoDB</a> is one of the most popular databases in the world today. Over the past decade it has established itself as a reliable custodian of database workloads both small and large. I think it&#39;s a fairly uncontroversial thing to say it is one of the most popular NoSQL database in the world, if not the most popular one.</p>
<p>If you look through MongoDB&#39;s history, you will find some rough patches. There was the one time it ended up dropping a lot of data and a lot of people wrote it off after that. You may come across stories or upset people if you Google MongoDB. That was a long time ago and they&#39;ve had a very solid record since then so I wouldn&#39;t worry too much about it.</p>
<h2>Let&#39;s get MongoDB going</h2>
<p>Let&#39;s dive into it. If you&#39;re running Docker like me, run the following commands</p>
<pre><code class="hljs language-bash">docker run --name test-mongo -dit -p 27017:27017 --<span class="hljs-built_in">rm</span> mongo:4.4.1

docker <span class="hljs-built_in">exec</span> -it test-mongo mongo
</code></pre><p>This will run a new MongoDB container at version 4.4.1 and call it <code>test-mongo</code> so we can reference it by name. We then on the second command run the command <code>mongo</code> inside of that <code>test-mongo</code> container so we can do things inside of the container. The <code>mongo</code> container (which is the official container put together by MongoDB Inc themselves) runs MongoDB automatically so we don&#39;t need to do anything. We just need to connect inside the container and run our commands from within the container. At this point you should be dropped into an interactive MongoDB shell. Let&#39;s get ourselves acquainted with MongoDB!</p>
<h2>Databases and Collections</h2>
<p>Like other databases, MongoDB has the concept of databases inside of it. A database is an overarching group of smaller collections of data. It&#39;s up to you how you want to structure your databases and collections but in general you want to keep like-things together. If you have a collection of user information and user notifications, you might consider storing those in the same database but different collections. If you have a user information collection and a collection of items for sale in your store, you might consider storing those in separate databases. Or not! There isn&#39;t a hard-and-fast rule here. Organize it how you see fit. One small consideration (don&#39;t even have to follow this either) is that if you have one large collection that gets a lot of traffic and a small collection that gets little traffic, it can be logically easier to scale those two servers separately if you put them in separate database.</p>
<p>Collections are groups of documents. A group of objects. Almost always you want each of these objects to represent one thing. If you have a <code>users</code> collection, one object should represent one user. I&#39;ve seen people do things like have throw unlike things in a collection (like putting users and items-for-sale in one collection) and it does not turn out well. Use multiple collections.</p>
<p>Collections also have some fun capabilities. You can do capped collections where you can say &quot;only have 100 items in this collection and toss out the oldest one when you get the 101st&quot;. You can also add indexes but we&#39;ll get there.</p>
<h2>Let&#39;s insert some documents</h2>
<p>Inside your MongoDB console run <code>show dbs</code>. This will allow you to see all the existing databases. In order to start using one, you do <code>use &lt;database name&gt;</code>. Let&#39;s make our own. Run <code>use adoption</code>. If you run <code>db</code> now it&#39;ll show you&#39;re using the <code>adoption</code> database.</p>
<p>Let&#39;s make a collection called <code>pets</code>. Run <code>db.pets.insertOne({name: &quot;Luna&quot;, type: &quot;dog&quot;, breed: &quot;Havanese&quot;, age: 8})</code>. Let&#39;s break this down.</p>
<p>The <code>db</code> refers to the database you chose with <code>use adoption</code>. If you want to use a different database, you just <code>use</code> something else.</p>
<p>The <code>pets</code> is the name of a collections that we&#39;re creating right now on the fly. If a collection doesn&#39;t exist, it&#39;s created instantly. If it does exist, it&#39;ll just insert into that collection. We could have called <code>pets</code> anything.</p>
<p>The <code>insertOne</code> is a function that exists on collections. As the name implies it allows you to insert one document at a time. There are a lot of ways to insert documents. Just run <code>db.pets.help()</code> to see everything available to you. Since the query language is JavaScript, the <code>()</code> are just to invoke the function.</p>
<p>The <code>{name: &quot;Luna&quot;, type: &quot;dog&quot;, breed: &quot;Havanese&quot;, age: 8}</code> is the actual object being inserted into the collection. Here we&#39;re just using strings and numbers, but you can see all the available types <a href="https://docs.mongodb.com/manual/reference/bson-types/">here</a>.</p>
<p>Good so far? Great! Try running <code>db.pets.count()</code>. You&#39;ll see it returns <code>1</code> because we have one pet in our pets collection. Try running <code>db.pets.findOne()</code> and you&#39;ll see it&#39;ll give us Luna back. We&#39;ll get more into querying in a second.</p>
<p>Let&#39;s insert a lot of documents. Like, 10,000. Since we&#39;re querying with JavaScript, we can write some Array fanciness to generate an array of random objects. Copy and paste this into the MongoDB console.</p>
<pre><code class="hljs language-javascript">db.<span class="hljs-property">pets</span>.<span class="hljs-title function_">insertMany</span>(
  <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">10000</span> }).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, index</span>) =&gt;</span> ({
    <span class="hljs-attr">name</span>: [
      <span class="hljs-string">&quot;Luna&quot;</span>,
      <span class="hljs-string">&quot;Fido&quot;</span>,
      <span class="hljs-string">&quot;Fluffy&quot;</span>,
      <span class="hljs-string">&quot;Carina&quot;</span>,
      <span class="hljs-string">&quot;Spot&quot;</span>,
      <span class="hljs-string">&quot;Beethoven&quot;</span>,
      <span class="hljs-string">&quot;Baxter&quot;</span>,
      <span class="hljs-string">&quot;Dug&quot;</span>,
      <span class="hljs-string">&quot;Zero&quot;</span>,
      <span class="hljs-string">&quot;Santa&#x27;s Little Helper&quot;</span>,
      <span class="hljs-string">&quot;Snoopy&quot;</span>,
    ][index % <span class="hljs-number">9</span>],
    <span class="hljs-attr">type</span>: [<span class="hljs-string">&quot;dog&quot;</span>, <span class="hljs-string">&quot;cat&quot;</span>, <span class="hljs-string">&quot;bird&quot;</span>, <span class="hljs-string">&quot;reptile&quot;</span>][index % <span class="hljs-number">4</span>],
    <span class="hljs-attr">age</span>: (index % <span class="hljs-number">18</span>) + <span class="hljs-number">1</span>,
    <span class="hljs-attr">breed</span>: [
      <span class="hljs-string">&quot;Havanese&quot;</span>,
      <span class="hljs-string">&quot;Bichon Frise&quot;</span>,
      <span class="hljs-string">&quot;Beagle&quot;</span>,
      <span class="hljs-string">&quot;Cockatoo&quot;</span>,
      <span class="hljs-string">&quot;African Gray&quot;</span>,
      <span class="hljs-string">&quot;Tabby&quot;</span>,
      <span class="hljs-string">&quot;Iguana&quot;</span>,
    ][index % <span class="hljs-number">7</span>],
    <span class="hljs-attr">index</span>: index,
  }))
);
</code></pre><p>Basically this makes 10000 pet objects in an array. Because we used modulo, everyone will get the same objects every time. Now run you&#39;re <code>db.pets.count()</code> and see what you get. You should get back that you have 10,000 items in your database. Great! Let&#39;s start querying it.</p>
</div><div class="lesson-links"><a class="prev" href="/lessons/nosql/nosql">← Previous</a><a class="next" href="/lessons/nosql/querying-mongodb">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="100%" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="100%"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul><div class="theme-icons"><button aria-label="Activate dark mode" title="Activate dark mode" class="theme-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="36px" height="100%" viewBox="0 -960 960 960" fill="var(--text-footer)" role="img"><title>Dark Mode Icon</title><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Z"></path></svg></button></div></footer></div><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"title":"MongoDB","description":"MongoDB is a document-based NoSQL database that allows developers to write unstructured data to be queried later. Brian goes into what this means for a developer and when you might want to use it"},"html":"\u003cp\u003e\u003ca href=\"https://www.jetbrains.com/lp/devecosystem-2020/databases/\"\u003eMongoDB\u003c/a\u003e is one of the most popular databases in the world today. Over the past decade it has established itself as a reliable custodian of database workloads both small and large. I think it\u0026#39;s a fairly uncontroversial thing to say it is one of the most popular NoSQL database in the world, if not the most popular one.\u003c/p\u003e\n\u003cp\u003eIf you look through MongoDB\u0026#39;s history, you will find some rough patches. There was the one time it ended up dropping a lot of data and a lot of people wrote it off after that. You may come across stories or upset people if you Google MongoDB. That was a long time ago and they\u0026#39;ve had a very solid record since then so I wouldn\u0026#39;t worry too much about it.\u003c/p\u003e\n\u003ch2\u003eLet\u0026#39;s get MongoDB going\u003c/h2\u003e\n\u003cp\u003eLet\u0026#39;s dive into it. If you\u0026#39;re running Docker like me, run the following commands\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003edocker run --name test-mongo -dit -p 27017:27017 --\u003cspan class=\"hljs-built_in\"\u003erm\u003c/span\u003e mongo:4.4.1\n\ndocker \u003cspan class=\"hljs-built_in\"\u003eexec\u003c/span\u003e -it test-mongo mongo\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will run a new MongoDB container at version 4.4.1 and call it \u003ccode\u003etest-mongo\u003c/code\u003e so we can reference it by name. We then on the second command run the command \u003ccode\u003emongo\u003c/code\u003e inside of that \u003ccode\u003etest-mongo\u003c/code\u003e container so we can do things inside of the container. The \u003ccode\u003emongo\u003c/code\u003e container (which is the official container put together by MongoDB Inc themselves) runs MongoDB automatically so we don\u0026#39;t need to do anything. We just need to connect inside the container and run our commands from within the container. At this point you should be dropped into an interactive MongoDB shell. Let\u0026#39;s get ourselves acquainted with MongoDB!\u003c/p\u003e\n\u003ch2\u003eDatabases and Collections\u003c/h2\u003e\n\u003cp\u003eLike other databases, MongoDB has the concept of databases inside of it. A database is an overarching group of smaller collections of data. It\u0026#39;s up to you how you want to structure your databases and collections but in general you want to keep like-things together. If you have a collection of user information and user notifications, you might consider storing those in the same database but different collections. If you have a user information collection and a collection of items for sale in your store, you might consider storing those in separate databases. Or not! There isn\u0026#39;t a hard-and-fast rule here. Organize it how you see fit. One small consideration (don\u0026#39;t even have to follow this either) is that if you have one large collection that gets a lot of traffic and a small collection that gets little traffic, it can be logically easier to scale those two servers separately if you put them in separate database.\u003c/p\u003e\n\u003cp\u003eCollections are groups of documents. A group of objects. Almost always you want each of these objects to represent one thing. If you have a \u003ccode\u003eusers\u003c/code\u003e collection, one object should represent one user. I\u0026#39;ve seen people do things like have throw unlike things in a collection (like putting users and items-for-sale in one collection) and it does not turn out well. Use multiple collections.\u003c/p\u003e\n\u003cp\u003eCollections also have some fun capabilities. You can do capped collections where you can say \u0026quot;only have 100 items in this collection and toss out the oldest one when you get the 101st\u0026quot;. You can also add indexes but we\u0026#39;ll get there.\u003c/p\u003e\n\u003ch2\u003eLet\u0026#39;s insert some documents\u003c/h2\u003e\n\u003cp\u003eInside your MongoDB console run \u003ccode\u003eshow dbs\u003c/code\u003e. This will allow you to see all the existing databases. In order to start using one, you do \u003ccode\u003euse \u0026lt;database name\u0026gt;\u003c/code\u003e. Let\u0026#39;s make our own. Run \u003ccode\u003euse adoption\u003c/code\u003e. If you run \u003ccode\u003edb\u003c/code\u003e now it\u0026#39;ll show you\u0026#39;re using the \u003ccode\u003eadoption\u003c/code\u003e database.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s make a collection called \u003ccode\u003epets\u003c/code\u003e. Run \u003ccode\u003edb.pets.insertOne({name: \u0026quot;Luna\u0026quot;, type: \u0026quot;dog\u0026quot;, breed: \u0026quot;Havanese\u0026quot;, age: 8})\u003c/code\u003e. Let\u0026#39;s break this down.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003edb\u003c/code\u003e refers to the database you chose with \u003ccode\u003euse adoption\u003c/code\u003e. If you want to use a different database, you just \u003ccode\u003euse\u003c/code\u003e something else.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003epets\u003c/code\u003e is the name of a collections that we\u0026#39;re creating right now on the fly. If a collection doesn\u0026#39;t exist, it\u0026#39;s created instantly. If it does exist, it\u0026#39;ll just insert into that collection. We could have called \u003ccode\u003epets\u003c/code\u003e anything.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003einsertOne\u003c/code\u003e is a function that exists on collections. As the name implies it allows you to insert one document at a time. There are a lot of ways to insert documents. Just run \u003ccode\u003edb.pets.help()\u003c/code\u003e to see everything available to you. Since the query language is JavaScript, the \u003ccode\u003e()\u003c/code\u003e are just to invoke the function.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003e{name: \u0026quot;Luna\u0026quot;, type: \u0026quot;dog\u0026quot;, breed: \u0026quot;Havanese\u0026quot;, age: 8}\u003c/code\u003e is the actual object being inserted into the collection. Here we\u0026#39;re just using strings and numbers, but you can see all the available types \u003ca href=\"https://docs.mongodb.com/manual/reference/bson-types/\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eGood so far? Great! Try running \u003ccode\u003edb.pets.count()\u003c/code\u003e. You\u0026#39;ll see it returns \u003ccode\u003e1\u003c/code\u003e because we have one pet in our pets collection. Try running \u003ccode\u003edb.pets.findOne()\u003c/code\u003e and you\u0026#39;ll see it\u0026#39;ll give us Luna back. We\u0026#39;ll get more into querying in a second.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s insert a lot of documents. Like, 10,000. Since we\u0026#39;re querying with JavaScript, we can write some Array fanciness to generate an array of random objects. Copy and paste this into the MongoDB console.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003edb.\u003cspan class=\"hljs-property\"\u003epets\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003einsertMany\u003c/span\u003e(\n  \u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efrom\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003elength\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e }).\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e_, index\u003c/span\u003e) =\u0026gt;\u003c/span\u003e ({\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: [\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Luna\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Fido\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Fluffy\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Carina\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Spot\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Beethoven\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Baxter\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Dug\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Zero\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Santa\u0026#x27;s Little Helper\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Snoopy\u0026quot;\u003c/span\u003e,\n    ][index % \u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e],\n    \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;cat\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;bird\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;reptile\u0026quot;\u003c/span\u003e][index % \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e],\n    \u003cspan class=\"hljs-attr\"\u003eage\u003c/span\u003e: (index % \u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e) + \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ebreed\u003c/span\u003e: [\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Havanese\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Bichon Frise\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Beagle\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Cockatoo\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;African Gray\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Tabby\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Iguana\u0026quot;\u003c/span\u003e,\n    ][index % \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e],\n    \u003cspan class=\"hljs-attr\"\u003eindex\u003c/span\u003e: index,\n  }))\n);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eBasically this makes 10000 pet objects in an array. Because we used modulo, everyone will get the same objects every time. Now run you\u0026#39;re \u003ccode\u003edb.pets.count()\u003c/code\u003e and see what you get. You should get back that you have 10,000 items in your database. Great! Let\u0026#39;s start querying it.\u003c/p\u003e\n","markdown":"\n[MongoDB][jetbrains] is one of the most popular databases in the world today. Over the past decade it has established itself as a reliable custodian of database workloads both small and large. I think it's a fairly uncontroversial thing to say it is one of the most popular NoSQL database in the world, if not the most popular one.\n\nIf you look through MongoDB's history, you will find some rough patches. There was the one time it ended up dropping a lot of data and a lot of people wrote it off after that. You may come across stories or upset people if you Google MongoDB. That was a long time ago and they've had a very solid record since then so I wouldn't worry too much about it.\n\n## Let's get MongoDB going\n\nLet's dive into it. If you're running Docker like me, run the following commands\n\n```bash\ndocker run --name test-mongo -dit -p 27017:27017 --rm mongo:4.4.1\n\ndocker exec -it test-mongo mongo\n```\n\nThis will run a new MongoDB container at version 4.4.1 and call it `test-mongo` so we can reference it by name. We then on the second command run the command `mongo` inside of that `test-mongo` container so we can do things inside of the container. The `mongo` container (which is the official container put together by MongoDB Inc themselves) runs MongoDB automatically so we don't need to do anything. We just need to connect inside the container and run our commands from within the container. At this point you should be dropped into an interactive MongoDB shell. Let's get ourselves acquainted with MongoDB!\n\n## Databases and Collections\n\nLike other databases, MongoDB has the concept of databases inside of it. A database is an overarching group of smaller collections of data. It's up to you how you want to structure your databases and collections but in general you want to keep like-things together. If you have a collection of user information and user notifications, you might consider storing those in the same database but different collections. If you have a user information collection and a collection of items for sale in your store, you might consider storing those in separate databases. Or not! There isn't a hard-and-fast rule here. Organize it how you see fit. One small consideration (don't even have to follow this either) is that if you have one large collection that gets a lot of traffic and a small collection that gets little traffic, it can be logically easier to scale those two servers separately if you put them in separate database.\n\nCollections are groups of documents. A group of objects. Almost always you want each of these objects to represent one thing. If you have a `users` collection, one object should represent one user. I've seen people do things like have throw unlike things in a collection (like putting users and items-for-sale in one collection) and it does not turn out well. Use multiple collections.\n\nCollections also have some fun capabilities. You can do capped collections where you can say \"only have 100 items in this collection and toss out the oldest one when you get the 101st\". You can also add indexes but we'll get there.\n\n## Let's insert some documents\n\nInside your MongoDB console run `show dbs`. This will allow you to see all the existing databases. In order to start using one, you do `use \u003cdatabase name\u003e`. Let's make our own. Run `use adoption`. If you run `db` now it'll show you're using the `adoption` database.\n\nLet's make a collection called `pets`. Run `db.pets.insertOne({name: \"Luna\", type: \"dog\", breed: \"Havanese\", age: 8})`. Let's break this down.\n\nThe `db` refers to the database you chose with `use adoption`. If you want to use a different database, you just `use` something else.\n\nThe `pets` is the name of a collections that we're creating right now on the fly. If a collection doesn't exist, it's created instantly. If it does exist, it'll just insert into that collection. We could have called `pets` anything.\n\nThe `insertOne` is a function that exists on collections. As the name implies it allows you to insert one document at a time. There are a lot of ways to insert documents. Just run `db.pets.help()` to see everything available to you. Since the query language is JavaScript, the `()` are just to invoke the function.\n\nThe `{name: \"Luna\", type: \"dog\", breed: \"Havanese\", age: 8}` is the actual object being inserted into the collection. Here we're just using strings and numbers, but you can see all the available types [here][bson].\n\nGood so far? Great! Try running `db.pets.count()`. You'll see it returns `1` because we have one pet in our pets collection. Try running `db.pets.findOne()` and you'll see it'll give us Luna back. We'll get more into querying in a second.\n\nLet's insert a lot of documents. Like, 10,000. Since we're querying with JavaScript, we can write some Array fanciness to generate an array of random objects. Copy and paste this into the MongoDB console.\n\n```javascript\ndb.pets.insertMany(\n  Array.from({ length: 10000 }).map((_, index) =\u003e ({\n    name: [\n      \"Luna\",\n      \"Fido\",\n      \"Fluffy\",\n      \"Carina\",\n      \"Spot\",\n      \"Beethoven\",\n      \"Baxter\",\n      \"Dug\",\n      \"Zero\",\n      \"Santa's Little Helper\",\n      \"Snoopy\",\n    ][index % 9],\n    type: [\"dog\", \"cat\", \"bird\", \"reptile\"][index % 4],\n    age: (index % 18) + 1,\n    breed: [\n      \"Havanese\",\n      \"Bichon Frise\",\n      \"Beagle\",\n      \"Cockatoo\",\n      \"African Gray\",\n      \"Tabby\",\n      \"Iguana\",\n    ][index % 7],\n    index: index,\n  }))\n);\n```\n\nBasically this makes 10000 pet objects in an array. Because we used modulo, everyone will get the same objects every time. Now run you're `db.pets.count()` and see what you get. You should get back that you have 10,000 items in your database. Great! Let's start querying it.\n\n[jetbrains]: https://www.jetbrains.com/lp/devecosystem-2020/databases/\n[bson]: https://docs.mongodb.com/manual/reference/bson-types/\n","slug":"mongodb","title":"MongoDB","section":"Nosql","icon":"info-circle","filePath":"/home/runner/work/complete-intro-to-databases-v2/complete-intro-to-databases-v2/lessons/02-nosql/B-mongodb.md","nextSlug":"/lessons/nosql/querying-mongodb","prevSlug":"/lessons/nosql/nosql"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"nosql","slug":"mongodb"},"buildId":"Ogv8p-BwCHRQ1PzRpAU9u","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>