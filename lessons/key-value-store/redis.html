<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/x-icon" href="/images/favicon.ico" data-next-head=""/><title data-next-head="">Redis – Complete Intro to Databases v2</title><meta name="description" content="Graph databases are great when you need to define relations between objects that can have complex webs of relations especially for things like social networks." data-next-head=""/><meta name="keywords" content="postgres,sql,redis,mongodb,neo4j,database,data,agents" data-next-head=""/><meta name="og:description" content="Graph databases are great when you need to define relations between objects that can have complex webs of relations especially for things like social networks." data-next-head=""/><meta name="og:title" content="Redis – Complete Intro to Databases v2" data-next-head=""/><meta name="og:image" content="/images/social-share-cover.jpg" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/3802a39ca373f962.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/3802a39ca373f962.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/dbe15a90055bd265.js" defer=""></script><script src="/_next/static/chunks/49c75c2ed6206f46.js" defer=""></script><script src="/_next/static/chunks/da0ff8adaa6cce90.js" defer=""></script><script src="/_next/static/chunks/turbopack-342361b32f83e6b6.js" defer=""></script><script src="/_next/static/chunks/f189af6b04c7fd39.js" defer=""></script><script src="/_next/static/chunks/turbopack-8b35dea75ba6f85c.js" defer=""></script><script src="/_next/static/Ogv8p-BwCHRQ1PzRpAU9u/_ssgManifest.js" defer=""></script><script src="/_next/static/Ogv8p-BwCHRQ1PzRpAU9u/_buildManifest.js" defer=""></script></head><body><script async="" defer="" src="https://a.holt.courses/latest.js"></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><div id="__next"><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&amp;display=swap" rel="stylesheet"/><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to Databases v2</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/workshops/databases-v2/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>Let&#39;s get Redis running through Docker. Run this</p>
<pre><code class="hljs language-bash">docker run -dit --<span class="hljs-built_in">rm</span> --name=my-redis -p 6379:6379 redis:6.0.8
docker <span class="hljs-built_in">exec</span> -it my-redis redis-cli
</code></pre><p>This should drop you into an interactive shell with Redis. Let&#39;s start with some basic sets and gets.</p>
<h2>SET and GET</h2>
<pre><code class="hljs language-redis">SET name &quot;Brian Holt&quot;
GET name
</code></pre><p>There ya go. That&#39;s it. Pack it up. Go home. We&#39;re done here.</p>
<p>I mean, just kidding, but pretty close. Redis commands are almost very simple like this. You send a command (e.g. <code>GET</code> and <code>SET</code>), a key (e.g. <code>name</code>) and a value (e.g. the string <code>&quot;Brian Holt&quot;</code>.)</p>
<h2>Naming Keys</h2>
<p>Let&#39;s talk a second about naming keys. It&#39;s not sustainable to just a flat name like <code>name</code>. Unlike PostgreSQL and MongoDB where you have tables and collections to logically separate entities, with Redis it&#39;s all one mishmosh of stuff. Only the keys separate what&#39;s in there. So that means you need some sort of key system to keep things separate yet retrievable.</p>
<p>Let&#39;s say you cache user information. The most commons strategy is to use <code>:</code> to separate and &quot;namespace&quot; keys. So if you had three users named <code>btholt</code>, <code>sarah_edo</code> and <code>scotups</code>, you may store their user info in three different keys like this: <code>user:sarah_edo</code>, <code>user:btholt</code>, and <code>user:scotups</code>. Now we know we can always retrieve <code>user:&lt;user name here&gt;</code> whenever we want user info. We also don&#39;t have to worry that if we cache payments later that we&#39;ll overwrite the <code>scotups</code> key, we can just namespace it different like <code>payment:scotups</code>, <code>payment:1marc</code>, etc. You can even go further and have multiple layers like <code>user:address:btholt</code>. These keys can actually be up to 512MB in length (don&#39;t do that haha) so you can have very long key names. Again, Redis just see this as a key so it&#39;s up to us how we want to namespace it. Redis won&#39;t enforce anything about it.</p>
<p>While I see <code>:</code> mostly as the delimiter, you&#39;ll see some use <code>/</code> too.</p>
<p>Technically Redis keys are &quot;binary safe&quot; which means you could have a JPEG (like the actual image itself) as a key. In general I wouldn&#39;t using a binary like that directly since the key will be long and the key comparison it will do will slow down Redis but you could MD5 an image and use that as a key if you were using Redis to disallow-list images or something like that.</p>
<h2>INCR DECR INCRBY DECRBY</h2>
<p>A very common thing is wanting to do is do some quick additions or substracts on a value in the store. One of them could be that you&#39;re tracking page views. You could do something like this:</p>
<pre><code class="hljs language-redis">SET visits 0
INCR visits
INCR visits
INCR visits
DECR visits
</code></pre><p>Every time a user hits your website, you could just send a quick command to Redis to increment its store. You don&#39;t need to know right then what the count of visits is. It&#39;s enough to blindly fire off &quot;whatever is there, add 1&quot;. I added a <code>DECR</code> at the end just so you can see how to decrement too.</p>
<p>What if you need to add or subtract more than just one? One case could be that you&#39;re tracking someone&#39;s score in a (American) football game and one team scores a touchdown. You could do:</p>
<pre><code class="hljs language-redis">SET scor
INCRBY score:seahawks 6
DECRBY score:broncos 3
</code></pre><p>Same idea, you just have to tell Redis by how much you want to add or subtract.</p>
<h2>MSET MGET</h2>
<p>Another thing you can do is do multiple gets at a time as well as multipe sets</p>
<pre><code class="hljs language-redis">MSET score:seahawks 43 score:broncos 8
MGET score:seahawks score:broncos
</code></pre><p>You can have a lot of keys here so this is useful if you need to write or get a lot of things at once.</p>
<p>There is also [pipelines][pipelines] as well as [transactions][transactions] available to you as well if you need to batch write things. That&#39;s beyond the scope of this intro but just be aware all of these are helpers for doing multiple things at once.</p>
<h2>EXISTS</h2>
<p>This is very helpful for making sure you don&#39;t duplicate anything. If you&#39;re write code you&#39;re write a code that needs to explore a maze and you want to make sure you don&#39;t revisit points on a cartesian plane. You could do something like</p>
<pre><code class="hljs language-redis">SET plane:0:0 visited
EXISTS plane:1:0
SET plane:1:0 visited
EXISTS plane:0:0
EXISTS plane:1:1
SET plane:1:1 visited
</code></pre><p>So it would check each spot on the graph if it had been there, if it had, it would try the next area until it could find somewhere it hadn&#39;t been there before. EXISTS will just give you a true or false if a key exists.</p>
<h2>DEL</h2>
<p>Sometimes you need to explictly need to delete something from the cache.</p>
<pre><code class="hljs language-redis">SET greeting hello
EXISTS greeting
DEL greeting
EXISTS greeting
</code></pre></div><div class="lesson-links"><a class="prev" href="/lessons/key-value-store/key-value-store">← Previous</a><a class="next" href="/lessons/key-value-store/redis-command-options">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="100%" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="100%"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul><div class="theme-icons"><button aria-label="Activate dark mode" title="Activate dark mode" class="theme-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="36px" height="100%" viewBox="0 -960 960 960" fill="var(--text-footer)" role="img"><title>Dark Mode Icon</title><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Z"></path></svg></button></div></footer></div><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":"Graph databases are great when you need to define relations between objects that can have complex webs of relations especially for things like social networks."},"html":"\u003cp\u003eLet\u0026#39;s get Redis running through Docker. Run this\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003edocker run -dit --\u003cspan class=\"hljs-built_in\"\u003erm\u003c/span\u003e --name=my-redis -p 6379:6379 redis:6.0.8\ndocker \u003cspan class=\"hljs-built_in\"\u003eexec\u003c/span\u003e -it my-redis redis-cli\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis should drop you into an interactive shell with Redis. Let\u0026#39;s start with some basic sets and gets.\u003c/p\u003e\n\u003ch2\u003eSET and GET\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-redis\"\u003eSET name \u0026quot;Brian Holt\u0026quot;\nGET name\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThere ya go. That\u0026#39;s it. Pack it up. Go home. We\u0026#39;re done here.\u003c/p\u003e\n\u003cp\u003eI mean, just kidding, but pretty close. Redis commands are almost very simple like this. You send a command (e.g. \u003ccode\u003eGET\u003c/code\u003e and \u003ccode\u003eSET\u003c/code\u003e), a key (e.g. \u003ccode\u003ename\u003c/code\u003e) and a value (e.g. the string \u003ccode\u003e\u0026quot;Brian Holt\u0026quot;\u003c/code\u003e.)\u003c/p\u003e\n\u003ch2\u003eNaming Keys\u003c/h2\u003e\n\u003cp\u003eLet\u0026#39;s talk a second about naming keys. It\u0026#39;s not sustainable to just a flat name like \u003ccode\u003ename\u003c/code\u003e. Unlike PostgreSQL and MongoDB where you have tables and collections to logically separate entities, with Redis it\u0026#39;s all one mishmosh of stuff. Only the keys separate what\u0026#39;s in there. So that means you need some sort of key system to keep things separate yet retrievable.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s say you cache user information. The most commons strategy is to use \u003ccode\u003e:\u003c/code\u003e to separate and \u0026quot;namespace\u0026quot; keys. So if you had three users named \u003ccode\u003ebtholt\u003c/code\u003e, \u003ccode\u003esarah_edo\u003c/code\u003e and \u003ccode\u003escotups\u003c/code\u003e, you may store their user info in three different keys like this: \u003ccode\u003euser:sarah_edo\u003c/code\u003e, \u003ccode\u003euser:btholt\u003c/code\u003e, and \u003ccode\u003euser:scotups\u003c/code\u003e. Now we know we can always retrieve \u003ccode\u003euser:\u0026lt;user name here\u0026gt;\u003c/code\u003e whenever we want user info. We also don\u0026#39;t have to worry that if we cache payments later that we\u0026#39;ll overwrite the \u003ccode\u003escotups\u003c/code\u003e key, we can just namespace it different like \u003ccode\u003epayment:scotups\u003c/code\u003e, \u003ccode\u003epayment:1marc\u003c/code\u003e, etc. You can even go further and have multiple layers like \u003ccode\u003euser:address:btholt\u003c/code\u003e. These keys can actually be up to 512MB in length (don\u0026#39;t do that haha) so you can have very long key names. Again, Redis just see this as a key so it\u0026#39;s up to us how we want to namespace it. Redis won\u0026#39;t enforce anything about it.\u003c/p\u003e\n\u003cp\u003eWhile I see \u003ccode\u003e:\u003c/code\u003e mostly as the delimiter, you\u0026#39;ll see some use \u003ccode\u003e/\u003c/code\u003e too.\u003c/p\u003e\n\u003cp\u003eTechnically Redis keys are \u0026quot;binary safe\u0026quot; which means you could have a JPEG (like the actual image itself) as a key. In general I wouldn\u0026#39;t using a binary like that directly since the key will be long and the key comparison it will do will slow down Redis but you could MD5 an image and use that as a key if you were using Redis to disallow-list images or something like that.\u003c/p\u003e\n\u003ch2\u003eINCR DECR INCRBY DECRBY\u003c/h2\u003e\n\u003cp\u003eA very common thing is wanting to do is do some quick additions or substracts on a value in the store. One of them could be that you\u0026#39;re tracking page views. You could do something like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-redis\"\u003eSET visits 0\nINCR visits\nINCR visits\nINCR visits\nDECR visits\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eEvery time a user hits your website, you could just send a quick command to Redis to increment its store. You don\u0026#39;t need to know right then what the count of visits is. It\u0026#39;s enough to blindly fire off \u0026quot;whatever is there, add 1\u0026quot;. I added a \u003ccode\u003eDECR\u003c/code\u003e at the end just so you can see how to decrement too.\u003c/p\u003e\n\u003cp\u003eWhat if you need to add or subtract more than just one? One case could be that you\u0026#39;re tracking someone\u0026#39;s score in a (American) football game and one team scores a touchdown. You could do:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-redis\"\u003eSET scor\nINCRBY score:seahawks 6\nDECRBY score:broncos 3\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSame idea, you just have to tell Redis by how much you want to add or subtract.\u003c/p\u003e\n\u003ch2\u003eMSET MGET\u003c/h2\u003e\n\u003cp\u003eAnother thing you can do is do multiple gets at a time as well as multipe sets\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-redis\"\u003eMSET score:seahawks 43 score:broncos 8\nMGET score:seahawks score:broncos\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYou can have a lot of keys here so this is useful if you need to write or get a lot of things at once.\u003c/p\u003e\n\u003cp\u003eThere is also [pipelines][pipelines] as well as [transactions][transactions] available to you as well if you need to batch write things. That\u0026#39;s beyond the scope of this intro but just be aware all of these are helpers for doing multiple things at once.\u003c/p\u003e\n\u003ch2\u003eEXISTS\u003c/h2\u003e\n\u003cp\u003eThis is very helpful for making sure you don\u0026#39;t duplicate anything. If you\u0026#39;re write code you\u0026#39;re write a code that needs to explore a maze and you want to make sure you don\u0026#39;t revisit points on a cartesian plane. You could do something like\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-redis\"\u003eSET plane:0:0 visited\nEXISTS plane:1:0\nSET plane:1:0 visited\nEXISTS plane:0:0\nEXISTS plane:1:1\nSET plane:1:1 visited\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo it would check each spot on the graph if it had been there, if it had, it would try the next area until it could find somewhere it hadn\u0026#39;t been there before. EXISTS will just give you a true or false if a key exists.\u003c/p\u003e\n\u003ch2\u003eDEL\u003c/h2\u003e\n\u003cp\u003eSometimes you need to explictly need to delete something from the cache.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-redis\"\u003eSET greeting hello\nEXISTS greeting\nDEL greeting\nEXISTS greeting\n\u003c/code\u003e\u003c/pre\u003e","markdown":"\nLet's get Redis running through Docker. Run this\n\n```bash\ndocker run -dit --rm --name=my-redis -p 6379:6379 redis:6.0.8\ndocker exec -it my-redis redis-cli\n```\n\nThis should drop you into an interactive shell with Redis. Let's start with some basic sets and gets.\n\n## SET and GET\n\n```redis\nSET name \"Brian Holt\"\nGET name\n```\n\nThere ya go. That's it. Pack it up. Go home. We're done here.\n\nI mean, just kidding, but pretty close. Redis commands are almost very simple like this. You send a command (e.g. `GET` and `SET`), a key (e.g. `name`) and a value (e.g. the string `\"Brian Holt\"`.)\n\n## Naming Keys\n\nLet's talk a second about naming keys. It's not sustainable to just a flat name like `name`. Unlike PostgreSQL and MongoDB where you have tables and collections to logically separate entities, with Redis it's all one mishmosh of stuff. Only the keys separate what's in there. So that means you need some sort of key system to keep things separate yet retrievable.\n\nLet's say you cache user information. The most commons strategy is to use `:` to separate and \"namespace\" keys. So if you had three users named `btholt`, `sarah_edo` and `scotups`, you may store their user info in three different keys like this: `user:sarah_edo`, `user:btholt`, and `user:scotups`. Now we know we can always retrieve `user:\u003cuser name here\u003e` whenever we want user info. We also don't have to worry that if we cache payments later that we'll overwrite the `scotups` key, we can just namespace it different like `payment:scotups`, `payment:1marc`, etc. You can even go further and have multiple layers like `user:address:btholt`. These keys can actually be up to 512MB in length (don't do that haha) so you can have very long key names. Again, Redis just see this as a key so it's up to us how we want to namespace it. Redis won't enforce anything about it.\n\nWhile I see `:` mostly as the delimiter, you'll see some use `/` too.\n\nTechnically Redis keys are \"binary safe\" which means you could have a JPEG (like the actual image itself) as a key. In general I wouldn't using a binary like that directly since the key will be long and the key comparison it will do will slow down Redis but you could MD5 an image and use that as a key if you were using Redis to disallow-list images or something like that.\n\n## INCR DECR INCRBY DECRBY\n\nA very common thing is wanting to do is do some quick additions or substracts on a value in the store. One of them could be that you're tracking page views. You could do something like this:\n\n```redis\nSET visits 0\nINCR visits\nINCR visits\nINCR visits\nDECR visits\n```\n\nEvery time a user hits your website, you could just send a quick command to Redis to increment its store. You don't need to know right then what the count of visits is. It's enough to blindly fire off \"whatever is there, add 1\". I added a `DECR` at the end just so you can see how to decrement too.\n\nWhat if you need to add or subtract more than just one? One case could be that you're tracking someone's score in a (American) football game and one team scores a touchdown. You could do:\n\n```redis\nSET scor\nINCRBY score:seahawks 6\nDECRBY score:broncos 3\n```\n\nSame idea, you just have to tell Redis by how much you want to add or subtract.\n\n## MSET MGET\n\nAnother thing you can do is do multiple gets at a time as well as multipe sets\n\n```redis\nMSET score:seahawks 43 score:broncos 8\nMGET score:seahawks score:broncos\n```\n\nYou can have a lot of keys here so this is useful if you need to write or get a lot of things at once.\n\nThere is also [pipelines][pipelines] as well as [transactions][transactions] available to you as well if you need to batch write things. That's beyond the scope of this intro but just be aware all of these are helpers for doing multiple things at once.\n\n## EXISTS\n\nThis is very helpful for making sure you don't duplicate anything. If you're write code you're write a code that needs to explore a maze and you want to make sure you don't revisit points on a cartesian plane. You could do something like\n\n```redis\nSET plane:0:0 visited\nEXISTS plane:1:0\nSET plane:1:0 visited\nEXISTS plane:0:0\nEXISTS plane:1:1\nSET plane:1:1 visited\n```\n\nSo it would check each spot on the graph if it had been there, if it had, it would try the next area until it could find somewhere it hadn't been there before. EXISTS will just give you a true or false if a key exists.\n\n## DEL\n\nSometimes you need to explictly need to delete something from the cache.\n\n```redis\nSET greeting hello\nEXISTS greeting\nDEL greeting\nEXISTS greeting\n```\n","slug":"redis","title":"Redis","section":"Key Value Store","icon":"info-circle","filePath":"/home/runner/work/complete-intro-to-databases-v2/complete-intro-to-databases-v2/lessons/05-key-value-store/B-redis.md","nextSlug":"/lessons/key-value-store/redis-command-options","prevSlug":"/lessons/key-value-store/key-value-store"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"key-value-store","slug":"redis"},"buildId":"Ogv8p-BwCHRQ1PzRpAU9u","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>