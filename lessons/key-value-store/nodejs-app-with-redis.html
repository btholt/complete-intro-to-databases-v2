<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/x-icon" href="/images/favicon.ico" data-next-head=""/><title data-next-head="">Node.js App with Redis – Complete Intro to Databases v2</title><meta name="description" content="Take the learnings from how to use Redis as a key-value store and cache from the command line to code! Brian whips up two examples of how and why you&#x27;d want to use Redis with Node.js." data-next-head=""/><meta name="keywords" content="postgres,sql,redis,mongodb,neo4j,database,data,agents" data-next-head=""/><meta name="og:description" content="Take the learnings from how to use Redis as a key-value store and cache from the command line to code! Brian whips up two examples of how and why you&#x27;d want to use Redis with Node.js." data-next-head=""/><meta name="og:title" content="Node.js App with Redis – Complete Intro to Databases v2" data-next-head=""/><meta name="og:image" content="/images/social-share-cover.jpg" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/3802a39ca373f962.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/3802a39ca373f962.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/dbe15a90055bd265.js" defer=""></script><script src="/_next/static/chunks/49c75c2ed6206f46.js" defer=""></script><script src="/_next/static/chunks/da0ff8adaa6cce90.js" defer=""></script><script src="/_next/static/chunks/turbopack-342361b32f83e6b6.js" defer=""></script><script src="/_next/static/chunks/f189af6b04c7fd39.js" defer=""></script><script src="/_next/static/chunks/turbopack-8b35dea75ba6f85c.js" defer=""></script><script src="/_next/static/Ogv8p-BwCHRQ1PzRpAU9u/_ssgManifest.js" defer=""></script><script src="/_next/static/Ogv8p-BwCHRQ1PzRpAU9u/_buildManifest.js" defer=""></script></head><body><script async="" defer="" src="https://a.holt.courses/latest.js"></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><div id="__next"><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&amp;display=swap" rel="stylesheet"/><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to Databases v2</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/workshops/databases-v2/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>Let&#39;s quickly write up a quick Node.js project to help you transfer your skills from the command line to the coding world.</p>
<p><a href="https://github.com/btholt/db-samples">You can access all samples for this project here</a>.</p>
<p>Make a new directory. In that directory run:</p>
<pre><code class="hljs language-bash">npm init -y
npm i express redis@3.0.2 express@4.17.1
<span class="hljs-built_in">mkdir</span> static
<span class="hljs-built_in">touch</span> static/index.html server.js
code . <span class="hljs-comment"># or open this folder in VS Code or whatever editor you want</span>
</code></pre><p>Let&#39;s make a dumb front end that just makes search queries against the backend. In static/index.html put:</p>
<pre><code class="hljs language-html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Redis Sample<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;visitors&quot;</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
      <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">registerPageView</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;/pageview&quot;</span>);
        <span class="hljs-keyword">const</span> { views } = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;visitors&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">`<span class="hljs-subst">${views}</span> visitors!`</span>;
      }
      <span class="hljs-title function_">registerPageView</span>();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><p>Then let&#39;s make a server.js. Put this in there</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> { promisify } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;util&quot;</span>);
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);
<span class="hljs-keyword">const</span> redis = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;redis&quot;</span>);
<span class="hljs-keyword">const</span> client = redis.<span class="hljs-title function_">createClient</span>();

<span class="hljs-keyword">const</span> rIncr = <span class="hljs-title function_">promisify</span>(client.<span class="hljs-property">incr</span>).<span class="hljs-title function_">bind</span>(client);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

  app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/pageview&quot;</span>, <span class="hljs-title function_">async</span> (req, res) =&gt; {
    <span class="hljs-keyword">const</span> views = <span class="hljs-keyword">await</span> <span class="hljs-title function_">rIncr</span>(<span class="hljs-string">&quot;pageviews&quot;</span>);

    res.<span class="hljs-title function_">json</span>({
      <span class="hljs-attr">status</span>: <span class="hljs-string">&quot;ok&quot;</span>,
      views,
    });
  });

  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>;
  app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">static</span>(<span class="hljs-string">&quot;./static&quot;</span>));
  app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`running on http://localhost:<span class="hljs-subst">${PORT}</span>`</span>);
}
<span class="hljs-title function_">init</span>();
</code></pre><ul>
<li>The Redis client for Node.js <em>still</em> doesn&#39;t support promises natively so we can use a function called <code>promisify</code> from the Node.js built in <code>utils</code> library to make it do promises. That&#39;s what <code>const rIncr = promisify(client.incr).bind(client);</code> does.</li>
<li>From there it&#39;s really easy to just call an increment function from Redis.</li>
</ul>
<p>Okay let&#39;s add one more caching function to our app. In server.js add this</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// under rIncr</span>
<span class="hljs-keyword">const</span> rGet = <span class="hljs-title function_">promisify</span>(client.<span class="hljs-property">get</span>).<span class="hljs-title function_">bind</span>(client);
<span class="hljs-keyword">const</span> rSetex = <span class="hljs-title function_">promisify</span>(client.<span class="hljs-property">setex</span>).<span class="hljs-title function_">bind</span>(client);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">cache</span>(<span class="hljs-params">key, ttl, slowFn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...props</span>) {
    <span class="hljs-keyword">const</span> cachedResponse = <span class="hljs-keyword">await</span> <span class="hljs-title function_">rGet</span>(key);
    <span class="hljs-keyword">if</span> (cachedResponse) {
      <span class="hljs-keyword">return</span> cachedResponse;
    }
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">slowFn</span>(...props);
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">rSetex</span>(key, ttl, result);
    <span class="hljs-keyword">return</span> result;
  };
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">verySlowAndExpensiveFunction</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// imagine this is like a really big join on PostgreSQL</span>
  <span class="hljs-comment">// or a call to an expensive API</span>

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;oh no an expensive call!&quot;</span>);
  <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toUTCString</span>());
    }, <span class="hljs-number">5000</span>);
  });

  <span class="hljs-keyword">return</span> p;
}

<span class="hljs-keyword">const</span> cachedFn = <span class="hljs-title function_">cache</span>(<span class="hljs-string">&quot;expensive_call&quot;</span>, <span class="hljs-number">10</span>, verySlowAndExpensiveFunction);

<span class="hljs-comment">// inside init, under app.get pageviews</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/get&quot;</span>, <span class="hljs-title function_">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">cachedFn</span>();

  res.<span class="hljs-title function_">json</span>({
    data,
    <span class="hljs-attr">status</span>: <span class="hljs-string">&quot;ok&quot;</span>,
  });
});
</code></pre><ul>
<li>This is a bit contrived example. Normally these would be separated amongst a bunch of files.</li>
<li>Imagine our <code>verySlowAndExpensiveFunction</code> is something we&#39;re trying to call as infrequently as possible. In this case we&#39;re just having it wait and then resolve a promise but imagine it was an expensive database query or a call to an expensive-to-call API endpoint</li>
<li><code>cache</code> is a generic caching function. With this you could cache anything. All it does is take in a redis key, how long to cache it, and some function to call when it doesn&#39;t find the item in the cache. It returns a function that makes it seamless to the call point: either it will immediately give you back what&#39;s in the cache or it will make you wait for the result of the <code>verySlowAndExpensiveFunction</code>.</li>
<li>This definitely has thundering herd potential. What would be better is to have a second lock key that says &quot;hey, we&#39;re already trying to calculate/retrieve this answer.&quot; Then you can either have the backend poll that key for an answer or you could return a 503 to the frontend and have a frontend that will poll until the 503 clears. Lots of ways to handle this.</li>
</ul>
<p>There are lots of ways to use Redis in code and this just two. In summary though you will primarily use it for caching and non-mission critical, high-throughput data like telemetry.</p>
</div><div class="lesson-links"><a class="prev" href="/lessons/key-value-store/more-redis-concepts">← Previous</a><a class="next" href="/lessons/key-value-store/redis-ops">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="100%" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="100%"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul><div class="theme-icons"><button aria-label="Activate dark mode" title="Activate dark mode" class="theme-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="36px" height="100%" viewBox="0 -960 960 960" fill="var(--text-footer)" role="img"><title>Dark Mode Icon</title><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Z"></path></svg></button></div></footer></div><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"title":"Node.js App with Redis","description":"Take the learnings from how to use Redis as a key-value store and cache from the command line to code! Brian whips up two examples of how and why you'd want to use Redis with Node.js."},"html":"\u003cp\u003eLet\u0026#39;s quickly write up a quick Node.js project to help you transfer your skills from the command line to the coding world.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/btholt/db-samples\"\u003eYou can access all samples for this project here\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eMake a new directory. In that directory run:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpm init -y\nnpm i express redis@3.0.2 express@4.17.1\n\u003cspan class=\"hljs-built_in\"\u003emkdir\u003c/span\u003e static\n\u003cspan class=\"hljs-built_in\"\u003etouch\u003c/span\u003e static/index.html server.js\ncode . \u003cspan class=\"hljs-comment\"\u003e# or open this folder in VS Code or whatever editor you want\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eLet\u0026#39;s make a dumb front end that just makes search queries against the backend. In static/index.html put:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u0026lt;!DOCTYPE \u003cspan class=\"hljs-keyword\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;en\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;UTF-8\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width, initial-scale=1.0\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003eRedis Sample\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;visitors\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e…\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-javascript\"\u003e\n      \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eregisterPageView\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e res = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efetch\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/pageview\u0026quot;\u003c/span\u003e);\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { views } = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e res.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e();\n        \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;visitors\u0026quot;\u003c/span\u003e).\u003cspan class=\"hljs-property\"\u003einnerText\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${views}\u003c/span\u003e visitors!`\u003c/span\u003e;\n      }\n      \u003cspan class=\"hljs-title function_\"\u003eregisterPageView\u003c/span\u003e();\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen let\u0026#39;s make a server.js. Put this in there\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { promisify } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;util\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;express\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e redis = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;redis\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e client = redis.\u003cspan class=\"hljs-title function_\"\u003ecreateClient\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e rIncr = \u003cspan class=\"hljs-title function_\"\u003epromisify\u003c/span\u003e(client.\u003cspan class=\"hljs-property\"\u003eincr\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ebind\u003c/span\u003e(client);\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003einit\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e();\n\n  app.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/pageview\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e (req, res) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e views = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erIncr\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;pageviews\u0026quot;\u003c/span\u003e);\n\n    res.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({\n      \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;ok\u0026quot;\u003c/span\u003e,\n      views,\n    });\n  });\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e = process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ePORT\u003c/span\u003e || \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e;\n  app.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(express.\u003cspan class=\"hljs-title function_\"\u003estatic\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;./static\u0026quot;\u003c/span\u003e));\n  app.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`running on http://localhost:\u003cspan class=\"hljs-subst\"\u003e${PORT}\u003c/span\u003e`\u003c/span\u003e);\n}\n\u003cspan class=\"hljs-title function_\"\u003einit\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eThe Redis client for Node.js \u003cem\u003estill\u003c/em\u003e doesn\u0026#39;t support promises natively so we can use a function called \u003ccode\u003epromisify\u003c/code\u003e from the Node.js built in \u003ccode\u003eutils\u003c/code\u003e library to make it do promises. That\u0026#39;s what \u003ccode\u003econst rIncr = promisify(client.incr).bind(client);\u003c/code\u003e does.\u003c/li\u003e\n\u003cli\u003eFrom there it\u0026#39;s really easy to just call an increment function from Redis.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eOkay let\u0026#39;s add one more caching function to our app. In server.js add this\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// under rIncr\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e rGet = \u003cspan class=\"hljs-title function_\"\u003epromisify\u003c/span\u003e(client.\u003cspan class=\"hljs-property\"\u003eget\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ebind\u003c/span\u003e(client);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e rSetex = \u003cspan class=\"hljs-title function_\"\u003epromisify\u003c/span\u003e(client.\u003cspan class=\"hljs-property\"\u003esetex\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ebind\u003c/span\u003e(client);\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecache\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ekey, ttl, slowFn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e...props\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e cachedResponse = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erGet\u003c/span\u003e(key);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (cachedResponse) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e cachedResponse;\n    }\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e result = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eslowFn\u003c/span\u003e(...props);\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erSetex\u003c/span\u003e(key, ttl, result);\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result;\n  };\n}\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003everySlowAndExpensiveFunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// imagine this is like a really big join on PostgreSQL\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e// or a call to an expensive API\u003c/span\u003e\n\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;oh no an expensive call!\u0026quot;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e p = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDate\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003etoUTCString\u003c/span\u003e());\n    }, \u003cspan class=\"hljs-number\"\u003e5000\u003c/span\u003e);\n  });\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e p;\n}\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e cachedFn = \u003cspan class=\"hljs-title function_\"\u003ecache\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;expensive_call\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e, verySlowAndExpensiveFunction);\n\n\u003cspan class=\"hljs-comment\"\u003e// inside init, under app.get pageviews\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/get\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e (req, res) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e data = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecachedFn\u003c/span\u003e();\n\n  res.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({\n    data,\n    \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;ok\u0026quot;\u003c/span\u003e,\n  });\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eThis is a bit contrived example. Normally these would be separated amongst a bunch of files.\u003c/li\u003e\n\u003cli\u003eImagine our \u003ccode\u003everySlowAndExpensiveFunction\u003c/code\u003e is something we\u0026#39;re trying to call as infrequently as possible. In this case we\u0026#39;re just having it wait and then resolve a promise but imagine it was an expensive database query or a call to an expensive-to-call API endpoint\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecache\u003c/code\u003e is a generic caching function. With this you could cache anything. All it does is take in a redis key, how long to cache it, and some function to call when it doesn\u0026#39;t find the item in the cache. It returns a function that makes it seamless to the call point: either it will immediately give you back what\u0026#39;s in the cache or it will make you wait for the result of the \u003ccode\u003everySlowAndExpensiveFunction\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eThis definitely has thundering herd potential. What would be better is to have a second lock key that says \u0026quot;hey, we\u0026#39;re already trying to calculate/retrieve this answer.\u0026quot; Then you can either have the backend poll that key for an answer or you could return a 503 to the frontend and have a frontend that will poll until the 503 clears. Lots of ways to handle this.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThere are lots of ways to use Redis in code and this just two. In summary though you will primarily use it for caching and non-mission critical, high-throughput data like telemetry.\u003c/p\u003e\n","markdown":"\nLet's quickly write up a quick Node.js project to help you transfer your skills from the command line to the coding world.\n\n[You can access all samples for this project here][samples].\n\nMake a new directory. In that directory run:\n\n```bash\nnpm init -y\nnpm i express redis@3.0.2 express@4.17.1\nmkdir static\ntouch static/index.html server.js\ncode . # or open this folder in VS Code or whatever editor you want\n```\n\nLet's make a dumb front end that just makes search queries against the backend. In static/index.html put:\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\" /\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /\u003e\n    \u003ctitle\u003eRedis Sample\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ch1 id=\"visitors\"\u003e…\u003c/h1\u003e\n    \u003cscript\u003e\n      async function registerPageView() {\n        const res = await fetch(\"/pageview\");\n        const { views } = await res.json();\n        document.getElementById(\"visitors\").innerText = `${views} visitors!`;\n      }\n      registerPageView();\n    \u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\nThen let's make a server.js. Put this in there\n\n```javascript\nconst { promisify } = require(\"util\");\nconst express = require(\"express\");\nconst redis = require(\"redis\");\nconst client = redis.createClient();\n\nconst rIncr = promisify(client.incr).bind(client);\n\nasync function init() {\n  const app = express();\n\n  app.get(\"/pageview\", async (req, res) =\u003e {\n    const views = await rIncr(\"pageviews\");\n\n    res.json({\n      status: \"ok\",\n      views,\n    });\n  });\n\n  const PORT = process.env.PORT || 3000;\n  app.use(express.static(\"./static\"));\n  app.listen(PORT);\n\n  console.log(`running on http://localhost:${PORT}`);\n}\ninit();\n```\n\n- The Redis client for Node.js _still_ doesn't support promises natively so we can use a function called `promisify` from the Node.js built in `utils` library to make it do promises. That's what `const rIncr = promisify(client.incr).bind(client);` does.\n- From there it's really easy to just call an increment function from Redis.\n\nOkay let's add one more caching function to our app. In server.js add this\n\n```javascript\n// under rIncr\nconst rGet = promisify(client.get).bind(client);\nconst rSetex = promisify(client.setex).bind(client);\n\nfunction cache(key, ttl, slowFn) {\n  return async function (...props) {\n    const cachedResponse = await rGet(key);\n    if (cachedResponse) {\n      return cachedResponse;\n    }\n    const result = await slowFn(...props);\n    await rSetex(key, ttl, result);\n    return result;\n  };\n}\n\nasync function verySlowAndExpensiveFunction() {\n  // imagine this is like a really big join on PostgreSQL\n  // or a call to an expensive API\n\n  console.log(\"oh no an expensive call!\");\n  const p = new Promise((resolve) =\u003e {\n    setTimeout(() =\u003e {\n      resolve(new Date().toUTCString());\n    }, 5000);\n  });\n\n  return p;\n}\n\nconst cachedFn = cache(\"expensive_call\", 10, verySlowAndExpensiveFunction);\n\n// inside init, under app.get pageviews\napp.get(\"/get\", async (req, res) =\u003e {\n  const data = await cachedFn();\n\n  res.json({\n    data,\n    status: \"ok\",\n  });\n});\n```\n\n- This is a bit contrived example. Normally these would be separated amongst a bunch of files.\n- Imagine our `verySlowAndExpensiveFunction` is something we're trying to call as infrequently as possible. In this case we're just having it wait and then resolve a promise but imagine it was an expensive database query or a call to an expensive-to-call API endpoint\n- `cache` is a generic caching function. With this you could cache anything. All it does is take in a redis key, how long to cache it, and some function to call when it doesn't find the item in the cache. It returns a function that makes it seamless to the call point: either it will immediately give you back what's in the cache or it will make you wait for the result of the `verySlowAndExpensiveFunction`.\n- This definitely has thundering herd potential. What would be better is to have a second lock key that says \"hey, we're already trying to calculate/retrieve this answer.\" Then you can either have the backend poll that key for an answer or you could return a 503 to the frontend and have a frontend that will poll until the 503 clears. Lots of ways to handle this.\n\nThere are lots of ways to use Redis in code and this just two. In summary though you will primarily use it for caching and non-mission critical, high-throughput data like telemetry.\n\n[samples]: https://github.com/btholt/db-samples\n","slug":"nodejs-app-with-redis","title":"Node.js App with Redis","section":"Key Value Store","icon":"info-circle","filePath":"/home/runner/work/complete-intro-to-databases-v2/complete-intro-to-databases-v2/lessons/05-key-value-store/F-nodejs-app-with-redis.md","nextSlug":"/lessons/key-value-store/redis-ops","prevSlug":"/lessons/key-value-store/more-redis-concepts"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"key-value-store","slug":"nodejs-app-with-redis"},"buildId":"Ogv8p-BwCHRQ1PzRpAU9u","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>