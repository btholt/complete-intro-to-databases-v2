{"pageProps":{"post":{"attributes":{"description":"Brian gives a quick overview of a powerful tool to use with PostgreSQL, Hasura. Hasura is a service you will put in your cluster so you can query your PostgreSQL database with GraphQL."},"html":"<p><a href=\"https://hasura.io/\">Hasura</a> is a tool too cool to not talk about. It&#39;s a server you will put inside your cluster of servers that allows you to treat your database like it was a GraphQL data source. If you don&#39;t know GraphQL, it&#39;s a really nice way to write queries against any data source. [Frontend Masters has an amazing class from Scott Moss on it][hasura-help] if you want to skill up at it.</p>\n<p>I just want to show how to quickly get it up and running with what we&#39;ve been doing and you can play more with it later.</p>\n<p>Okay, so this is the tricky bit here. If the following command here doesn&#39;t work for you, you may have to mess around with your connection string to get it to work. [See here][here] if you have problems.</p>\n<pre><code class=\"hljs language-bash\">docker run -d -p 8080:8080 \\\n  -e HASURA_GRAPHQL_DATABASE_URL=postgresql://postgres:mysecretpassword@host.docker.internal:5432/message_boards \\\n  -e HASURA_GRAPHQL_ENABLE_CONSOLE=<span class=\"hljs-literal\">true</span> --name=my-hasura --<span class=\"hljs-built_in\">rm</span> \\\n  hasura/graphql-engine:v1.3.2\n</code></pre><p>With any luck you&#39;ll have Hasura running in Docker. <code>docker ps</code> can confirm if it is or not. If not, maybe try their <a href=\"https://hasura.io/docs/1.0/graphql/core/getting-started/docker-simple.html\">Docker Compose</a> and re-run our <a href=\"https://btholt.github.io/complete-intro-to-databases/sample-postgresql.sql\">queries</a> to get your data replicated in a fresh database.</p>\n<p>Once you&#39;re running, head to <a href=\"http://localhost:8080\">http://localhost:8080</a> to play around with it. Specifically you&#39;ll want to click the data tab at the top and all tables to it then head back to the GraphiQL tab to run some queries.</p>\n<p>I&#39;m not a GraphQL expert anymore so I won&#39;t walk you through the paces but here&#39;s an example of one if we wanted to get info about a board</p>\n<pre><code class=\"hljs language-graphql\"><span class=\"hljs-punctuation\">{</span>\n  boards<span class=\"hljs-punctuation\">(</span><span class=\"hljs-symbol\">where</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-symbol\">board_id</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-symbol\">_eq</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">39</span> <span class=\"hljs-punctuation\">}</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">)</span> <span class=\"hljs-punctuation\">{</span>\n    board_id\n    board_name\n    board_description\n  <span class=\"hljs-punctuation\">}</span>\n  comments<span class=\"hljs-punctuation\">(</span><span class=\"hljs-symbol\">where</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-symbol\">board_id</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-symbol\">_eq</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">39</span> <span class=\"hljs-punctuation\">}</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">)</span> <span class=\"hljs-punctuation\">{</span>\n    board_id\n    comment\n    comment_id\n    time\n    user_id\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>","markdown":"\n[Hasura][hasura] is a tool too cool to not talk about. It's a server you will put inside your cluster of servers that allows you to treat your database like it was a GraphQL data source. If you don't know GraphQL, it's a really nice way to write queries against any data source. [Frontend Masters has an amazing class from Scott Moss on it][hasura-help] if you want to skill up at it.\n\nI just want to show how to quickly get it up and running with what we've been doing and you can play more with it later.\n\nOkay, so this is the tricky bit here. If the following command here doesn't work for you, you may have to mess around with your connection string to get it to work. [See here][here] if you have problems.\n\n```bash\ndocker run -d -p 8080:8080 \\\n  -e HASURA_GRAPHQL_DATABASE_URL=postgresql://postgres:mysecretpassword@host.docker.internal:5432/message_boards \\\n  -e HASURA_GRAPHQL_ENABLE_CONSOLE=true --name=my-hasura --rm \\\n  hasura/graphql-engine:v1.3.2\n```\n\nWith any luck you'll have Hasura running in Docker. `docker ps` can confirm if it is or not. If not, maybe try their [Docker Compose][compose] and re-run our [queries][sql] to get your data replicated in a fresh database.\n\nOnce you're running, head to [http://localhost:8080](http://localhost:8080) to play around with it. Specifically you'll want to click the data tab at the top and all tables to it then head back to the GraphiQL tab to run some queries.\n\nI'm not a GraphQL expert anymore so I won't walk you through the paces but here's an example of one if we wanted to get info about a board\n\n```graphql\n{\n  boards(where: { board_id: { _eq: 39 } }) {\n    board_id\n    board_name\n    board_description\n  }\n  comments(where: { board_id: { _eq: 39 } }) {\n    board_id\n    comment\n    comment_id\n    time\n    user_id\n  }\n}\n```\n\n[scott]: https://frontendmasters.com/courses/client-graphql-react/introduction/\n[hasura]: https://hasura.io/\n[help]: https://hasura.io/docs/1.0/graphql/core/getting-started/index.html#get-started-using-an-existing-database\n[sql]: https://btholt.github.io/complete-intro-to-databases/sample-postgresql.sql\n[compose]: https://hasura.io/docs/1.0/graphql/core/getting-started/docker-simple.html\n","slug":"hasura","title":"Hasura","section":"Sql","icon":"info-circle","filePath":"/home/runner/work/complete-intro-to-databases-v2/complete-intro-to-databases-v2/lessons/03-sql/H-hasura.md","nextSlug":"/lessons/sql/postgresql-ops","prevSlug":"/lessons/sql/nodejs-app-with-postgresql"}},"__N_SSG":true}